From b09adbd9fc45cf91e23821e7dc784992b319a51c Mon Sep 17 00:00:00 2001
From: jgeboski <jgeboski@gmail.com>
Date: Sun, 26 Aug 2012 19:18:34 -0400
Subject: [PATCH] Fixes for GCC 4.7

---
 cpp/include/Ice/Buffer.h            | 1 +
 cpp/src/IceUtil/FileUtil.cpp        | 1 +
 cpp/src/Slice/FileTracker.cpp       | 5 +----
 cpp/test/IceUtil/unicode/Client.cpp | 1 +
 4 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/cpp/include/Ice/Buffer.h b/cpp/include/Ice/Buffer.h
index 6f7ebab..a5210da 100644
--- a/cpp/include/Ice/Buffer.h
+++ b/cpp/include/Ice/Buffer.h
@@ -11,6 +11,7 @@
 #define ICEE_BUFFER_H
 
 #include <Ice/Config.h>
+#include <cstddef>
 
 namespace IceInternal
 {
diff --git a/cpp/src/IceUtil/FileUtil.cpp b/cpp/src/IceUtil/FileUtil.cpp
index 1c1b974..89f65f2 100644
--- a/cpp/src/IceUtil/FileUtil.cpp
+++ b/cpp/src/IceUtil/FileUtil.cpp
@@ -13,6 +13,7 @@
 #include <IceUtil/Exception.h>
 #include <climits>
 #include <string.h>
+#include <unistd.h>
 
 #ifdef _WIN32
 #  include <process.h>
diff --git a/cpp/src/Slice/FileTracker.cpp b/cpp/src/Slice/FileTracker.cpp
index af009fe..d8ad3d5 100644
--- a/cpp/src/Slice/FileTracker.cpp
+++ b/cpp/src/Slice/FileTracker.cpp
@@ -8,10 +8,7 @@
 // **********************************************************************
 
 #include <Slice/FileTracker.h>
-
-#ifdef __sun
-#   include <unistd.h>
-#endif
+#include <unistd.h>
 
 #ifdef _WIN32
 #   include <direct.h>
diff --git a/cpp/test/IceUtil/unicode/Client.cpp b/cpp/test/IceUtil/unicode/Client.cpp
index 6370c9e..0f7a341 100644
--- a/cpp/test/IceUtil/unicode/Client.cpp
+++ b/cpp/test/IceUtil/unicode/Client.cpp
@@ -10,6 +10,7 @@
 #include <IceUtil/Unicode.h>
 #include <IceUtil/FileUtil.h>
 #include <TestCommon.h>
+#include <unistd.h>
 
 #ifdef _WIN32
 #   include <io.h>
-- 
1.7.11.1

